<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>ipcclean</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="PostgreSQL 8.2.21 Documentation">
<link rel="up" href="reference-server.html" title="PostgreSQL Server Applications">
<link rel="prev" href="app-initdb.html" title="initdb">
<link rel="next" href="app-pgcontroldata.html" title="pg_controldata">
<link rel="copyright" href="legalnotice.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="ipcclean">
<a name="app-ipcclean"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p>ipcclean &#8212; remove shared memory and semaphores from a failed <span class="productname">PostgreSQL</span> server</p>
</div>
<a name="id2841097"></a><div class="refsynopsisdiv" title="Synopsis">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">ipcclean</code></p></div>
</div>
<div class="refsect1" title="Description">
<a name="r1-app-ipcclean-1"></a><h2>Description</h2>
<p>   <code class="command">ipcclean</code> removes all shared memory segments and
   semaphore sets owned by the current user.  It is intended to be
   used for cleaning up after a crashed
   <span class="productname">PostgreSQL</span> server (<a class="xref" href="app-postgres.html" title="postgres"><span class="refentrytitle"><span class="application">postgres</span></span></a>).  Note that immediately restarting the
   server will also clean up shared memory and semaphores, so this
   command is of little real utility.
  </p>
<p>   Only the database administrator should execute this program as it
   can cause bizarre behavior (i.e., crashes) if run during multiuser
   execution.  If this command is executed while a server is running,
   the shared memory and semaphores allocated by that server will be
   deleted, which would have rather severe consequences for that
   server.
  </p>
</div>
<div class="refsect1" title="Notes">
<a name="id2841157"></a><h2>Notes</h2>
<p>   This script is a hack, but in the many years since it was written,
   no one has come up with an equally effective and portable solution.
   Since <code class="command">postgres</code> can now clean up by
   itself, it is unlikely that <code class="command">ipcclean</code> will be
   improved upon in the future.
  </p>
<p>   The script makes assumptions about the output format of the
   <code class="command">ipcs</code>
   utility which may not be true across different operating systems.
   Therefore, it may not work on your particular OS.  It's wise to
   look at the script before trying it.
  </p>
</div>
</div></body>
</html>
