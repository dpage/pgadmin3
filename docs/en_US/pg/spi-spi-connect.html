<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>SPI_connect</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="PostgreSQL 8.2.21 Documentation">
<link rel="up" href="spi.html#spi-interface" title="41.1. Interface Functions">
<link rel="prev" href="spi.html" title="Chapter 41. Server Programming Interface">
<link rel="next" href="spi-spi-finish.html" title="SPI_finish">
<link rel="copyright" href="legalnotice.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="SPI_connect">
<a name="spi-spi-connect"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p>SPI_connect &#8212; connect a procedure to the SPI manager</p>
</div>
<a name="id2766704"></a><div class="refsynopsisdiv" title="Synopsis">
<h2>Synopsis</h2>
<pre class="synopsis">int SPI_connect(void)</pre>
</div>
<div class="refsect1" title="Description">
<a name="id2766716"></a><h2>Description</h2>
<p>   <code class="function">SPI_connect</code> opens a connection from a
   procedure invocation to the SPI manager.  You must call this
   function if you want to execute commands through SPI.  Some utility
   SPI functions may be called from unconnected procedures.
  </p>
<p>   If your procedure is already connected,
   <code class="function">SPI_connect</code> will return the error code
   <span class="returnvalue">SPI_ERROR_CONNECT</span>.  This could happen if
   a procedure that has called <code class="function">SPI_connect</code>
   directly calls another procedure that calls
   <code class="function">SPI_connect</code>.  While recursive calls to the
   <acronym class="acronym">SPI</acronym> manager are permitted when an SQL command
   called through SPI invokes another function that uses
   <acronym class="acronym">SPI</acronym>, directly nested calls to
   <code class="function">SPI_connect</code> and
   <code class="function">SPI_finish</code> are forbidden.
   (But see <code class="function">SPI_push</code> and <code class="function">SPI_pop</code>.)
  </p>
</div>
<div class="refsect1" title="Return Value">
<a name="id2766791"></a><h2>Return Value</h2>
<div class="variablelist"><dl>
<dt><span class="term"><code class="symbol">SPI_OK_CONNECT</code></span></dt>
<dd><p>      on success
     </p></dd>
<dt><span class="term"><code class="symbol">SPI_ERROR_CONNECT</code></span></dt>
<dd><p>      on error
     </p></dd>
</dl></div>
</div>
</div></body>
</html>
